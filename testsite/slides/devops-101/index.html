<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>DevOps 101</title>


<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="/reveal-js/css/reset.css">
<link rel="stylesheet" href="/reveal-js/css/reveal.css"><link rel="stylesheet" href="/reveal-js/css/theme/night.css" id="theme">
<link rel="stylesheet" href="/highlight-js/solarized-dark.min.css">
    
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
  

    


<section data-noprocess data-shortcode-slide
      data-background-image="./images/background2.jpg"
      data-background-position="center"
      data-background-size="100%"
      id="index"
      data-transition="convex">
  

<h1 id="devops-101">DevOps 101</h1>

<p>By Zachary Loeber</p>




<aside class="notes"><p>If the audience size is small perhaps give 5 min to do introductions and illicit feedback on what they look to gain from this presentation.</p>
</aside>
</section>

  

    


<section data-noprocess data-shortcode-slide
      data-background-image="./images/darkbackground1.jpg"
      data-background-position="center"
      data-background-size="100%"
      id="bio"
      data-transition="convex">
  

<h2 id="who-am-i">Who Am I?</h2>

<ul>
<li>Technology agnostic IT infrastructure and automation geek for 20+ years</li>
<li>A Sr. Consultant on the Cloud team at SPR</li>
<li>Currently working with Azure, Linux, Kubernetes, and Spark DevOps pipelines</li>
<li>Releaser of voluminous amounts of PowerShell/Bash/Python code</li>
<li>Recent contributor/releaser of open source tools</li>
<li>Has an unhealthly respect for a good Makefile&hellip;</li>
</ul>
</section>
    
<section data-noprocess data-shortcode-slide
      data-background-image="./images/darkbackground3.jpg"
      data-background-position="center"
      data-background-size="100%"
      id="intro"
      data-transition="convex">
  

<section data-shortcode-section>
<h2 id="what-is-devops">What is DevOps?</h2>

<ul>
<li>The merger of &lt;Some Action&gt; and IT operations with the purpose of increasing value to stakeholders.</li>
</ul>

</section><section>

<p><span class='fragment '
  >
  <strong>Development</strong>
</span> + <span class='fragment '
  >
  <strong>Operations</strong>
</span> = <span class='fragment '
  >
  <strong>DevOps</strong>
</span></p>

<ul>
<li><span class='fragment '
>
The merger of development and IT operations with the purpose of increasing value to stakeholders.
</span></li>
<li><span class='fragment '
>
DevOps has paved the way with well defined models to achieve the <strong>3-ways</strong> of Devops&hellip;
</span></li>
</ul>
</section>
</section>
    
<section data-noprocess data-shortcode-slide
      data-background-image="./images/darkbackground4.jpg"
      data-background-position="fade"
      data-background-size="100%"
      id="3ways"
      data-transition="convex">
  

<section data-shortcode-section>
<h2 id="the-3-ways-of-devops">The 3 Ways of DevOps</h2>

</section><section>

<h3 id="work-flows-one-direction-downstream">Work flows one direction, downstream.</h3>

<ul>
<li>Systems and holistic thinking</li>
<li>Focus on value streams</li>
<li>Don&rsquo;t pass defects downstream</li>
</ul>

</section><section>

<h3 id="create-shorten-and-amplify-feedback-loops">Create, shorten, and amplify feedback loops.</h3>

<ul>
<li>Increase Velocity</li>
<li>Incremental Progress</li>
<li>Fail Fast, Fix Fast</li>
</ul>

</section><section>

<h3 id="continued-experimentation-and-learning">Continued experimentation and learning</h3>

<ul>
<li>Continually Improve</li>
<li>Build Knowledge</li>
<li>Increase Resilience</li>
</ul>
</section>
</section>
    
<section data-noprocess data-shortcode-slide
      data-background-image="./images/background6.jpg"
      data-background-position="center"
      data-background-size="100%"
      id="cicd"
      data-transition="convex">
  

<section data-shortcode-section>
<h2 id="ci-cd">CI/CD</h2>

<p>This model is deceptively simple. It&rsquo;s component parts are:</p>

<ul>
<li><span class='fragment '
>
<em>Continuous Integration</em>
</span></li>
<li><span class='fragment '
>
<em>Continuous Delivery</em>
</span>
<span class='fragment '
>
/<em>Continuous Deployment</em>
</span>
<span class='fragment '
>
(Automatic deployment to an environment)
</span></li>
</ul>

<aside class="notes"><p>Don&rsquo;t forget the most important one! :)</p>
</aside>

</section><section>

<h2 id="the-hidden-ci">The hidden <strong>CI</strong></h2>

<p><strong>Continuous Improvement</strong></p>

<p>If this is not happening then you are on a different model.</p>

<aside class="notes"><p>One might say that without the goal of improvement you are on a sunsetting model.</p>
</aside>

</section><section>

<h2 id="cicd-crawl">CICD - Crawl</h2>

<ul>
<li>Version Control - Maybe</li>
<li>Build Artifact</li>
<li>Deploy Artifact - One Environment</li>
</ul>

</section><section>

<h2 id="cicd-walk">CICD - Walk</h2>

<ul>
<li>Version Control - Absolutely</li>
<li>Build Artifact</li>
<li>Tag Artifact</li>
<li>Push - Docker/Artifactory/Helm</li>
<li>Deploy Artifact <span class='fragment '
>

<ul>
<li>Multiple Environments
</span></li>
</ul></li>
</ul>

<aside class="notes"><p>Deployment into multiple environments infers parameterization and possibly infrastructure as code.</p>
</aside>

</section><section>

<h2 id="cicd-run">CICD - Run</h2>

<ul>
<li>Version Control - Git Branch Model Established</li>
<li>Unit Tests</li>
<li>Build Artifact</li>
<li>Tag Artifact</li>
<li>Push - Docker/Artifactory/Helm</li>
<li>Deploy Infrastructure - Terraform/Ansible/Pulumi/Other</li>
<li>Deploy Artifact - Multiple Environments</li>
</ul>

</section><section>

<h2 id="cicd-sprint">CICD - Sprint</h2>

<ul>
<li>Version Control - Git Branch Model Established</li>
<li>Code Coverage/Quality</li>
<li>Unit Testing</li>
<li>Build Artifact</li>
<li>Tag Artifact</li>
<li>Push - Docker/Artifactory/Helm</li>
<li>Deploy Infrastructure - Terraform/Ansible/Pulumi/Other</li>
<li>Deploy Artifact - Multiple Scalable Environments</li>
</ul>

<aside class="notes"><p>It should be noted that some of these stages can get their own lesser versions of a CI/CD pipeline as well!</p>
</aside>

</section><section>

<p>A great conceptual model (Jenkins-x).</p>

<p><img src="./images/jxconceptualmodel.png" alt="A Good Diagram" title="JX Conceptual Model" /></p>

<aside class="notes"><p>Even though this model was put together purely for cloud native deployments it helps understand how teams, the business, and CICD are interelated. I&rsquo;ve personally used similar types of logical models when fielding multiple team&rsquo;s devops needs.</p>
</aside>

</section>
</section>
    
<section data-noprocess data-shortcode-slide
      data-background-image="./images/darkbackground1.jpg"
      data-background-position="center"
      data-background-size="100%"
      id="components"
      data-transition="fade">
  

<section data-shortcode-section>
<aside class="notes"><p>Intentionally left blank</p>
</aside>

</section><section>

<h2 id="devops-components">DevOps Components</h2>

<p>DevOps takes many forms but ultimately boils down to a handful of components working together;</p>

<ol>
<li>Version Control</li>
<li>Pipelines</li>
<li>Artifacts</li>
</ol>

<p>The components above work for simple software releases.</p>

<aside class="notes"><ul>
<li>Technically generating the &lsquo;Artifact&rsquo; is the CD portion.</li>
<li>Artifact&rsquo;s could be a software release, docker image, or more&hellip;</li>
<li>Often this small workflow wraps up the entire CI part of a larger CICD engine.</li>
</ul>
</aside>

</section><section>

<p>But there is always &lsquo;More&rsquo;&hellip;</p>

</section><section>

<h2 id="deployment-environments">Deployment Environments</h2>

<p>Anything more advanced usually include</p>

<ol>
<li><span class='fragment '
>
Service Endpoints (Secrets)
</span></li>
<li><span class='fragment '
>
Metadata Management (Parameters)
</span></li>
<li><span class='fragment '
>
Workload Sizing (autoscaling)
</span></li>
<li><span class='fragment '
>
Gates/Approvals/Processes
</span></li>
<li><span class='fragment '
>
Governance/Security
</span></li>
</ol>

</section><section>

<p>The DevOps engineer will wrap these together with CI/CD into <strong>Pipelines</strong></p>

</section>
</section>
    
<section data-noprocess data-shortcode-slide
      data-background-image="./images/darkbackground3.jpg"
      data-background-position="center"
      data-background-size="100%"
      id="pipelines"
      data-transition="convex">
  

<section data-shortcode-section>
<h2 id="pipeline-products">Pipeline Products</h2>

<p>One can weave together pipelines with a number of tools;</p>

<ol>
<li><span class='fragment '
>
Jenkins/Jenkins-x
</span></li>
<li><span class='fragment '
>
CircleCI
</span></li>
<li><span class='fragment '
>
Semaphore
</span></li>
<li><span class='fragment '
>
Tekton
</span></li>
<li><span class='fragment '
>
Azure DevOps
</span></li>
</ol>

</section><section>

<h2 id="azure-devops-pipelines">Azure DevOps Pipelines</h2>

<p>The Azure PaaS solution for creating pipelines is Azure DevOps.</p>

<ul>
<li><span class='fragment '
>
AKA -&gt; VSTS Online
</span></li>
</ul>

</section><section>

<h2 id="ado-classic-pipelines">ADO Classic Pipelines</h2>

<p>There are 2 parts to classic pipelines;</p>

<ol>
<li><span class='fragment '
>
Build Pipeline
</span></li>
<li><span class='fragment '
>
Release Pipeline
</span></li>
</ol>

</section><section>

<h2 id="ado-classic-pipelines-1">ADO Classic Pipelines</h2>

<p>The build pipeline can reside as YAML code in the source repository (azure-pipeline.yaml).</p>

<p>The release pipeline is pretty much a manual affair (unless you are clever with json and apis)</p>

</section><section>

<h3 id="classic-pipeline-notes">Classic Pipeline Notes</h3>

<ul>
<li>Build pipelines can be declarative YAML in the source repo</li>
<li>Release pipelines are entirely manual (ClickOps!)</li>
<li>There is a &lsquo;hidden&rsquo; pipeline artifact repository that bridge the two</li>
<li>It is smart to use your own artifact repository instead (just sayin&rsquo;)</li>
<li>Just way too&hellip; manual.</li>
</ul>

<aside class="notes"><ul>
<li>Now is a great time to show a live example of a build/release pipeline layout and structure.</li>
<li>Divorcing your pipelines from ADO pipeline artifacts gives greater control over your artifact longevity and forces you to design smarter pipelines.</li>
</ul>
</aside>

</section><section>

<p>The &lsquo;Multi-Stage pipeline&rsquo; has been released into preview.</p>

<p>It overcomes some of the deficiences of the classic pipeline.</p>

<p>I deploy these exclusively.</p>

</section><section>

<h3 id="multi-stage-pipelines">Multi-Stage Pipelines</h3>

<ul>
<li>Both build and release code can be expressed as YAML and shifted left</li>
<li>The introduction of &lsquo;environments&rsquo; for deployments</li>
<li>Can create templatized code for pipelines in another git repo</li>
<li>Can reference, trigger, and pull artifacts from other pipelines</li>
</ul>

</section><section>

<h3 id="multi-stage-limitations">Multi-Stage Limitations</h3>

<ul>
<li>To use the deployment element a pipeline artifact MUST have been created</li>
<li>Manual intervention of deployments is limited to &lsquo;Environments&rsquo;</li>
<li>It is bleeding edge</li>
</ul>

<aside class="notes"><ul>
<li>Now is a great time to show a live example of multi-stage pipelines.</li>
<li>Anything called &lsquo;classic&rsquo; is usually fast on its way to deprecation.</li>
</ul>
</aside>

</section>
</section>
    
<section data-noprocess data-shortcode-slide
      data-background-image="./images/darkbackground2.jpg"
      data-background-position="center"
      data-background-size="100%"
      id="build"
      data-transition="concave">
  

<section data-shortcode-section>
<aside class="notes"><p>Intentionally left blank</p>
</aside>

</section><section>

<h2 id="ci-building">CI (Building)</h2>

<p>The build process can be substantially more difficult than the deploy but is generally broken into the following parts</p>

<ul>
<li><span class='fragment '
>
<em>Build</em>
</span></li>
<li><span class='fragment '
>
<em>Tag</em>
</span></li>
<li><span class='fragment '
>
<em>Push</em>
</span></li>
</ul>

</section><section>

<h2 id="git-branch-strategies">Git Branch Strategies</h2>

<p>Build operations will be closely aligned with the chosen git strategy.</p>

<p>Common models include:</p>

<ul>
<li><span class='fragment '
>
Single Master
</span></li>
<li><span class='fragment '
>
Git Flow*
</span></li>
<li><span class='fragment '
>
GitHub Flow
</span></li>
<li><span class='fragment '
>
Forking
</span></li>
</ul>

<aside class="notes"><ul>
<li>* Almost every model draws some ideas from gitflow so it is a good place to start getting confused.</li>
</ul>
</aside>

</section><section>

<h2 id="git-notes">Git Notes</h2>

<ul>
<li>Your dev team will drive the git branching strategy</li>
<li>GitFlow does not account for multiple environments</li>
<li>Pull Request actions and branch policies are not native to git</li>
<li>Submodules obfuscate a repo&rsquo;s depth</li>
<li>Git hooks are super handy (but I don&rsquo;t use them)</li>
</ul>

</section><section>

<h2 id="learning-git">Learning Git</h2>

<p>Just read the manpages, it is easy!</p>

<p>Git man page generator -&gt; <a href="https://git-man-page-generator.lokaltog.net/">https://git-man-page-generator.lokaltog.net/</a></p>

</section>
</section>
    
<section data-noprocess data-shortcode-slide
      data-background-image="./images/darkbackground2.jpg"
      data-background-position="center"
      data-background-size="100%"
      id="build"
      data-transition="concave">
  

<section data-shortcode-section>
<aside class="notes"><p>Intentionally left blank</p>
</aside>

</section><section>

<h2 id="strong-pipelines">Strong Pipelines</h2>

<p>The stronger your pipeline is, the less you have to support it.</p>

</section><section>

<p>What makes a <strong>strong</strong> pipeline?</p>

<ul>
<li><span class='fragment '
>
Few outside dependencies
</span></li>
<li><span class='fragment '
>
Simplicity
</span></li>
<li><span class='fragment '
>
Immutability
</span></li>
</ul>

</section><section>

<h2 id="outside-dependencies">Outside Dependencies</h2>

<p>What is an <strong>outside dependency</strong>? (see if you can find the pattern);</p>

<ul>
<li><span class='fragment '
>
Public Docker Images
</span></li>
<li><span class='fragment '
>
Public Upstream Libraries
</span></li>
<li><span class='fragment '
>
Public Pipeline Tasks
</span></li>
<li><span class='fragment '
>
Public Helm Charts
</span></li>
</ul>

</section><section>

<h2 id="simpler-pipelines">Simpler Pipelines</h2>

<p>What makes <strong>simpler</strong> pipelines?</p>

<ul>
<li><span class='fragment '
>
Pipeline as code
</span></li>
<li><span class='fragment '
>
Less delivery code
</span></li>
<li><span class='fragment '
>
Fewer Moving Parts
</span></li>
</ul>

</section><section>

<h3 id="immutability">Immutability</h3>

<p>What is <strong>Immutability</strong> in a pipeline?</p>

<ul>
<li><span class='fragment '
>
Clear division between CI and CD
</span></li>
<li><span class='fragment '
>
Less delivery code
</span></li>
<li><span class='fragment '
>
Eliminate &#39;ClickOps&#39;
</span></li>
</ul>

</section>
</section>
    <p>
<section data-noprocess data-shortcode-slide
      id="lessons"
      data-transition="slide">
  
<section data-shortcode-section>
<aside class="notes"><p>Intentionally left blank</p>
</aside></p>

</section><section>

<h3 id="lessons-learned">Lessons Learned</h3>

<p>There are many best practices for DevOps.</p>

<p>Here are a few from the field&hellip;</p>

</section><section>

<ul>
<li><span class='fragment '
>
Work towards a regular release cadence
</span></li>
<li><span class='fragment '
>
Establish a git branch strategy early
</span></li>
<li><span class='fragment '
>
Cement a divide between CI &amp; CD
</span></li>
<li><span class='fragment '
>
Learn some Agile
</span></li>
<li><span class='fragment '
>
&#39;Latest&#39; tag is the devil
</span></li>
</ul>

<aside class="notes"><ul>
<li>Release cadence == Scheduled version releases of your code (technically a old-school release model)</li>
<li>Divorcing your pipelines from ADO pipeline artifacts gives greater control over your artifact longevity and forces you to design smarter pipelines.</li>
</ul>
</aside>

</section><section>

<p>And a few more&hellip;</p>

<ul>
<li><span class='fragment '
>
Model the 12-factor app approach
</span></li>
<li><span class='fragment '
>
Build only once
</span></li>
<li><span class='fragment '
>
All pipeline as code if possible
</span></li>
<li><span class='fragment '
>
Immutable artifacts
</span></li>
<li><span class='fragment '
>
Shift left all that you can
</span></li>
</ul>

</section><section>

<p>And yet more&hellip;</p>

<ul>
<li><span class='fragment '
>
Create an umbrella repo
</span></li>
<li><span class='fragment '
>
Everything is a container
</span></li>
<li><span class='fragment '
>
Reduce outside dependencies
</span></li>
<li><span class='fragment '
>
Versioning, don&#39;t leave it until last
</span></li>
<li><span class='fragment '
>
Be able to build/deploy locally
</span></li>
</ul>

</section><section>

<p>Finally,</p>

<ul>
<li><p><span class='fragment '
>
If you implement DevOps correctly you WILL lose velocity, at first.
</span></p></li>

<li><p><span class='fragment '
>
It gets better
</span></p></li>
</ul>

<p></section></p>
</section>
    
<section data-noprocess data-shortcode-slide
      data-background-image="./images/background6.jpg"
      data-background-position="center"
      data-background-size="100%"
      id="dataops"
      data-transition="convex">
  

<section data-shortcode-section>
<h2 id="dataops">DataOps</h2>

<p>Data schema is just as important as the code itself.</p>

<ul>
<li>Include a baseline and strategy for persistent data schema deployment in your pipeline.</li>
<li>A database change should be subject to the same build/release cadence as the rest of the project.</li>
</ul>

<aside class="notes"><ul>
<li>It is easy to forget or ignore this aspect of a deployment</li>
</ul>
</aside>

</section><section>

<h2 id="database-schemas">Database Schemas</h2>

<ul>
<li>Persistent data always has a schema</li>
<li>This schema is closely bound to the application</li>
<li>The versioned schema should be in version control</li>
<li>This schema should be released with the app</li>
<li>For obvious reasons, this should be idempotent</li>
</ul>

</section><section>

<h2 id="dataops-terms">DataOps Terms</h2>

<p>A few quick terms to know.</p>

<ul>
<li>Migration - Schema update</li>
<li>Baseline - The &lsquo;first&rsquo; schema</li>
</ul>

</section><section>

<h2 id="dataops-tools">DataOps Tools</h2>

<p>Some tools exist to facilitate CICD in pipelines. A few are;</p>

<ul>
<li>Liquibase (liquibase.org)</li>
<li>Flyway (flywaydb.org)</li>
<li>Sqitch (sqitch.org)</li>
</ul>

</section><section>

<h2 id="model-breakers">Model Breakers</h2>

<p>Some IT not easily fit into the traditional DevOps CICD model:</p>

<ul>
<li><span class='fragment '
>
Data Science
</span></li>
<li><span class='fragment '
>
Data Engineering
</span></li>
</ul>

<aside class="notes"><ul>
<li>Data scientists create models more like artists than programmers. They work with already cleaned data to extract value from it with things like machine learning and witchcraft.</li>
<li>Their output is primarily the models they construct.</li>
</ul>
</aside>

</section>
</section>
    
<section data-noprocess data-shortcode-slide
      id="references"
      data-transition="convex">
  

<section data-shortcode-section>
<aside class="notes"><p>Intentionally left blank</p>
</aside>

</section><section>

<h2 id="references">References</h2>

<ul>
<li>Three ways of devops - <a href="https://itrevolution.com/the-three-ways-principles-underpinning-devops/">https://itrevolution.com/the-three-ways-principles-underpinning-devops/</a></li>
<li>12-factor app - <a href="https://12factor.net/">https://12factor.net/</a></li>
</ul>

</section><section>

<p>This presentation made with:</p>

<ul>
<li>Github - <a href="https://github.com/zloeber/deck.loeber.live">https://github.com/zloeber/deck.loeber.live</a></li>
<li>ADO Pipelines - <a href="https://github.com/zloeber/azure-pipeline-library">https://github.com/zloeber/azure-pipeline-library</a></li>
<li>hugo - <a href="https://gohugo.io/">https://gohugo.io/</a></li>
<li>reveal.js - <a href="https://github.com/hakimel/reveal.js">https://github.com/hakimel/reveal.js</a></li>
<li>render.com - Hosts <a href="https://decks.loeber.live">https://decks.loeber.live</a></li>
</ul>

</section>
</section>

</div>
      

    </div>
<script type="text/javascript" src=/reveal-hugo/object-assign.js></script>

<a href="/reveal-js/css/print/" id="print-location" style="display: none;"></a>
<script type="text/javascript">
  var printLocationElement = document.getElementById('print-location');
  var link = document.createElement('link');
  link.rel = 'stylesheet';
  link.type = 'text/css';
  link.href = printLocationElement.href + (window.location.search.match(/print-pdf/gi) ? 'pdf.css' : 'paper.css');
  document.getElementsByTagName('head')[0].appendChild(link);
</script>

<script type="application/json" id="reveal-hugo-site-params">null</script>
<script type="application/json" id="reveal-hugo-page-params">{"highlight_theme":"solarized-dark","slide_number":true,"theme":"night","transition":"convex","weight":1}</script>

<script src="/reveal-js/js/reveal.js"></script>

<script type="text/javascript">
  
  
  function camelize(map) {
    if (map) {
      Object.keys(map).forEach(function(k) {
        newK = k.replace(/(\_\w)/g, function(m) { return m[1].toUpperCase() });
        if (newK != k) {
          map[newK] = map[k];
          delete map[k];
        }
      });
    }
    return map;
  }
  
  var revealHugoDefaults = { center: true, controls: true, history: true, progress: true, transition: "slide" };
  var revealHugoSiteParams = JSON.parse(document.getElementById('reveal-hugo-site-params').innerHTML);
  var revealHugoPageParams = JSON.parse(document.getElementById('reveal-hugo-page-params').innerHTML);
  
  var options = Object.assign({},
    camelize(revealHugoDefaults),
    camelize(revealHugoSiteParams),
    camelize(revealHugoPageParams));
  Reveal.initialize(options);
</script>


  
  
  <script type="text/javascript" src="/reveal-js/plugin/markdown/marked.js"></script>
  
  <script type="text/javascript" src="/reveal-js/plugin/markdown/markdown.js"></script>
  
  <script type="text/javascript" src="/reveal-js/plugin/highlight/highlight.js"></script>
  
  <script type="text/javascript" src="/reveal-js/plugin/zoom-js/zoom.js"></script>
  
  
  <script type="text/javascript" src="/reveal-js/plugin/notes/notes.js"></script>



    
    
  </body>
</html>
